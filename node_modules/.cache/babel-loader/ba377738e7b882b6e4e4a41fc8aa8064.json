{"ast":null,"code":"var _jsxFileName = \"/Users/ganxing/Desktop/JS-learning/React/practice/src/components/Items/index.jsx\";\nimport React, { Component } from 'react';\nimport pubSub from 'pubsub-js';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pic_url = 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.kfzimg.com%2FG07%2FM00%2FBD%2F7D%2Fq4YBAFx-Ow6AdHkVAAHBhXpIX5U130_b.jpg&refer=http%3A%2F%2Fwww.kfzimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1642930093&t=3a80f3bab0f385d2b18d6c55200e928f';\nconst items_data = [{\n  id: 1,\n  name: '高等数学',\n  pic_path: pic_url\n}, {\n  id: 2,\n  name: '计算机网络',\n  pic_path: pic_url\n}, {\n  id: 3,\n  name: '物联网',\n  pic_path: pic_url\n}, {\n  id: 4,\n  name: '高等数学2',\n  pic_path: pic_url\n}];\nexport default class Items extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      items: [],\n      search: false,\n      order: false\n    };\n  }\n\n  componentDidMount() {\n    pubSub.subscribe('book', (msg, index) => {\n      const newItems = items_data.filter(a => {\n        return a.name.indexOf(index) !== -1;\n      });\n      this.setState({\n        items: newItems\n      });\n    });\n    pubSub.subscribe('search', (msg, index) => {\n      this.setState(index);\n    });\n    pubSub.subscribe('order', (msg, index) => {\n      const {\n        items\n      } = this.state;\n      const newItems = items.sort((a, b) => {\n        return b.id - a.id;\n      });\n      this.setState({\n        items: newItems\n      });\n    });\n  }\n\n  render() {\n    const {\n      items,\n      search\n    } = this.state;\n    return search ? items.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.pic_path,\n          alt: item.name,\n          width: \"200px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"id:\", item.id, item.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this);\n    }) : items_data.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.pic_path,\n          alt: item.name,\n          width: \"200px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"id:\", item.id, item.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this);\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/ganxing/Desktop/JS-learning/React/practice/src/components/Items/index.jsx"],"names":["React","Component","pubSub","pic_url","items_data","id","name","pic_path","Items","state","items","search","order","componentDidMount","subscribe","msg","index","newItems","filter","a","indexOf","setState","sort","b","render","map","item"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport pubSub from 'pubsub-js';\nimport './index.css';\n\nconst pic_url='https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.kfzimg.com%2FG07%2FM00%2FBD%2F7D%2Fq4YBAFx-Ow6AdHkVAAHBhXpIX5U130_b.jpg&refer=http%3A%2F%2Fwww.kfzimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1642930093&t=3a80f3bab0f385d2b18d6c55200e928f'\nconst items_data=[\n    {id:1, name:'高等数学',pic_path:pic_url},\n    {id:2, name:'计算机网络',pic_path:pic_url},\n    {id:3, name:'物联网',pic_path:pic_url},\n    {id:4, name:'高等数学2',pic_path:pic_url}]\n\nexport default class Items extends Component {\n\n    state = {\n        items:[],\n        search:false,\n        order:false\n    }\n\n    componentDidMount(){  \n        pubSub.subscribe('book',(msg,index)=>{\n            const newItems = items_data.filter((a)=>{\n                return a.name.indexOf(index) !== -1\n            })\n            this.setState({items:newItems})\n        })\n        pubSub.subscribe('search',(msg,index)=>{\n            this.setState(index)\n        })\n        pubSub.subscribe('order',(msg,index)=>{\n            const {items} = this.state\n            const newItems = items.sort((a,b)=>{\n                return b.id-a.id\n            })\n            this.setState({items:newItems})\n        })\n    }\n\n    render() { \n        const {items,search} =this.state\n        return (\n            search ? \n            items.map( item => {\n                return (\n                    <li key={item.id}>\n                        <img src={item.pic_path} alt={item.name} width='200px'/>\n                        <p>id:{item.id}{item.name}</p>\n                    </li>\n                )\n            }):\n            items_data.map( item => {\n                return (\n                    <li key={item.id}>\n                        <img src={item.pic_path} alt={item.name} width='200px'/>\n                        <p>id:{item.id}{item.name}</p>\n                    </li>\n                )\n            })\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}