{"ast":null,"code":"var _jsxFileName = \"/Users/ganxing/Desktop/JS-learning/React/practice/src/pages/Login.js\";\nimport React from 'react';\nimport { Form, Input, Button, Checkbox, Card, message } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'; // import { setToken } from \"../utils/auth\";\n\nimport { loginApi } from '../services/auth';\nimport \"./login.css\";\nimport { setToken } from '../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  const onFinish = values => {\n    console.log('Success:', values);\n    loginApi({\n      username: values.username,\n      password: values.password\n    }).then(res => {\n      if (res.code === \"success\") {\n        setToken(res.token);\n        props.history.push('/admin');\n      } else {\n        message.info(res.message);\n      }\n\n      console.log(res);\n    }).catch(err => {\n      message.error(\"用户不存在\");\n    });\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    tilte: \"QF Admin SYS\",\n    className: \"login-form\",\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      name: \"normal_login\",\n      initialValues: {\n        remember: true\n      },\n      onFinish: onFinish,\n      onFinishFailed: onFinishFailed,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"username\",\n        rules: [{\n          required: true,\n          message: '请输入用户名'\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {\n            className: \"site-form-item-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 32\n          }, this),\n          placeholder: \"\\u7528\\u6237\\u540D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"password\",\n        rules: [{\n          required: true,\n          message: '请输入密码'\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n            className: \"site-form-item-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this),\n          type: \"password\",\n          placeholder: \"\\u5BC6\\u7801\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"remember\",\n          valuePropName: \"checked\",\n          noStyle: true,\n          children: /*#__PURE__*/_jsxDEV(Checkbox, {\n            children: \"\\u8BB0\\u4F4F\\u6211\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"login-form-forgot\",\n          href: \"@\",\n          children: \"\\u5FD8\\u8BB0\\u5BC6\\u7801\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          className: \"login-form-button\",\n          children: \"\\u767B\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this), \"Or \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"@\",\n          children: \"\\u7ACB\\u5373\\u6CE8\\u518C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/ganxing/Desktop/JS-learning/React/practice/src/pages/Login.js"],"names":["React","Form","Input","Button","Checkbox","Card","message","UserOutlined","LockOutlined","loginApi","setToken","Login","props","onFinish","values","console","log","username","password","then","res","code","token","history","push","info","catch","err","error","onFinishFailed","errorInfo","remember","required"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Form, Input, Button, Checkbox,Card, message } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\n// import { setToken } from \"../utils/auth\";\nimport { loginApi } from '../services/auth';\nimport \"./login.css\";\nimport { setToken } from '../utils/auth';\n\nfunction Login(props) {\n    const onFinish = (values) => {\n        console.log('Success:', values);\n        loginApi({\n            username: values.username,\n            password: values.password\n        }).then(res => {\n            if (res.code === \"success\") {\n                setToken(res.token)\n                props.history.push('/admin');\n            }else {\n                message.info(res.message)\n            }\n            console.log(res)\n        }).catch(err => {\n            message.error(\"用户不存在\")\n        })\n      };\n    \n    const onFinishFailed = (errorInfo) => {\n        console.log('Failed:', errorInfo);\n    };\n    return (\n        <Card tilte=\"QF Admin SYS\" className=\"login-form\">\n            <Form\n                name=\"normal_login\"\n                initialValues={{\n                remember: true,\n                }}\n                onFinish={onFinish}\n                onFinishFailed={onFinishFailed}\n            >\n                <Form.Item\n                name=\"username\"\n                rules={[\n                    {\n                    required: true,\n                    message: '请输入用户名',\n                    },\n                ]}\n                >\n                <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"用户名\" />\n                </Form.Item>\n                <Form.Item\n                name=\"password\"\n                rules={[\n                    {\n                    required: true,\n                    message: '请输入密码',\n                    },\n                ]}\n                >\n                <Input\n                    prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                    type=\"password\"\n                    placeholder=\"密码\"\n                />\n                </Form.Item>\n                <Form.Item>\n                <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\n                    <Checkbox>记住我</Checkbox>\n                </Form.Item>\n                <a className=\"login-form-forgot\" href=\"@\">\n                    忘记密码\n                </a>\n                </Form.Item>\n\n                <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                    登录\n                </Button>\n                Or <a href=\"@\">立即注册</a>\n                </Form.Item>\n            </Form>\n        </Card>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}